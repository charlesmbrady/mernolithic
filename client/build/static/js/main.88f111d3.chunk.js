(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},43:function(e,t,a){},44:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(14),c=a.n(r),l=(a(43),a(34)),i=a(12),u=(a(44),a(13)),s=a.n(u);localStorage.getItem("connection")||localStorage.setItem("connection",JSON.stringify({message:"no connection"})),s.a.defaults.headers.common.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("connection")).token);var m={getHellos:function(){return s.a.get("/api/hellos").catch((function(e){throw e}))}};a(62);var d=function(){return o.a.createElement("div",{className:"Dashboard"},o.a.createElement("h1",{"data-test":"dashboard-header"},"Dashboard"),o.a.createElement("button",{id:"get-hellos-button",className:"btn btn-warning",onClick:function(){m.getHellos().then((function(e){console.log(e)})).catch((function(e){e&&(alert("There was an error:\n ".concat(e," \n\r\n Redirecting you to landing page...")),window.location.replace("/"))}))}},"GetHellos(protected)"))},g=a(10),p=a(74),E=a(75),f=a(76),h={logout:function(){localStorage.clear()},login:function(e){return s.a.post("/auth/login",e).catch((function(e){throw e}))},signup:function(e){return s.a.post("/auth/signup",e)}};a(63);var b=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),i=Object(g.a)(l,2),u=i[0],s=i[1];return o.a.createElement(p.a,{className:"Login"},o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h3",{className:"authentication-header","data-test":"login-header"},"Login"))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"username",className:"authentication-input",placeholder:"email/username",name:"username","data-test":"login-input-username",onChange:function(e){return c(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"password",placeholder:"password",className:"authentication-input",name:"password",type:"password","data-test":"login-input-password",onChange:function(e){return s(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("button",{"data-test":"login-submit-button",id:"login-button",className:"options btn btn-primary",onClick:function(){return function(){var t={username:r,password:u};h.login(t).then((function(t){t.data.token?(e.notify("success","Authenticated, logging in..."),localStorage.setItem("connection",JSON.stringify(t.data)),setTimeout((function(){window.location.replace("dashboard")}),2e3)):e.notify("error",t.data.message)}))}()}},"Submit"))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("button",{"data-test":"login-signup-button",id:"signup-button",className:"options btn btn-secondary",onClick:function(){return e.toggleSignup()}},"Signup"))))};a(66);var N=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),i=Object(g.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),b=d[0],N=d[1],w=Object(n.useState)(""),S=Object(g.a)(w,2),O=S[0],v=S[1];return o.a.createElement(p.a,{className:"Signup"},o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h3",{className:"authentication-header","data-test":"signup-header"},"Signup"))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"first-name",className:"authentication-input",placeholder:"First Name",name:"firstName","data-test":"signup-input-first-name",onChange:function(e){return c(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"last-name",className:"authentication-input",placeholder:"Last Name",name:"lastName","data-test":"signup-input-last-name",onChange:function(e){return s(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"username",className:"authentication-input",placeholder:"Email/Username",name:"username","data-test":"signup-input-username",onChange:function(e){return N(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("input",{id:"password",className:"authentication-input",placeholder:"Password",name:"password",type:"password","data-test":"signup-input-password",onChange:function(e){return v(e.target.value)}}))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("button",{"data-test":"signup-submit-button",id:"submit-button",className:"options btn btn-primary",onClick:function(){return function(){var t={firstName:r,lastName:u,username:b,password:O};h.signup(t).then((function(t){t.data.message?e.notify("error",t.data.message):(e.notify("success","Success! Signed up!"),e.toggleSignup())}))}()}},"Submit"))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("button",{"data-test":"signup-login-button",id:"login-button",className:"options btn btn-secondary",onClick:function(){return e.toggleSignup()}},"Login"))))};a(67);var w=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],c=a[1],l=function(){c(!r)};return o.a.createElement("div",{className:"Landing"},o.a.createElement("h1",{"data-test":"landing-header"},"MERN-JWT-Starter-Auth"),r?o.a.createElement(N,{notify:e.notify,toggleSignup:l}):o.a.createElement(b,{notify:e.notify,toggleSignup:l}))},S=a(11);a(68);var O=function(){var e=function(e,t){switch(e){case"info":S.b.info(t,{position:S.b.POSITION.TOP_CENTER});break;case"success":S.b.success(t,{position:S.b.POSITION.TOP_CENTER});break;case"error":S.b.error(t,{position:S.b.POSITION.TOP_CENTER});break;default:S.b.info(t,{position:S.b.POSITION.TOP_CENTER})}};return o.a.createElement(l.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",render:function(){return o.a.createElement(w,{notify:e})}}),o.a.createElement(i.a,{exact:!0,path:"/dashboard",render:function(){return o.a.createElement(d,{notify:e})}}),o.a.createElement(i.a,{render:function(){return o.a.createElement(w,{notify:e})}})),o.a.createElement(S.a,{autoClose:2e3})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.88f111d3.chunk.js.map